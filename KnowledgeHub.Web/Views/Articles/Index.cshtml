@*@model List<KnowledgeHub.Web.Models.Entities.Article>*@
@model IEnumerable<KnowledgeHub.Web.Models.Entities.Article>




@{
    ViewData["Title"] = "Index";
}
<h4>@TempData["Message"]</h4>

<h1>Index</h1>


@*<div>
    <h4>Article</h4>
    <hr />
    <dl class="row">
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Title)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Title)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.ArticleURL)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.ArticleURL)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Description)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.Description)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.Catagory)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model  => model.Catagory.Name)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.PostedBy)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.PostedBy)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.IsApproved)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.IsApproved)
        </dd>
        <dt class = "col-sm-2">
            @Html.DisplayNameFor(model => model.DateSubmitted)
        </dt>
        <dd class = "col-sm-10">
            @Html.DisplayFor(model => model.DateSubmitted)
        </dd>
    </dl>
</div>*@


@*--------------------------------------------*@

  @*<table class="table table-bordered">
       
        <tr>
            <th>Name</th>
            <th>Article URL</th>
            <th>Description</th>
            <th>PostedBy</th>
            <th>Action</th>
        </tr>
        
        <tbody>
        @foreach(var item  in Model)
        {
            <tr>
                <td>
                    @item.Title
                </td>
                <td>
                    @item.ArticleURL
                </td>
                <td>
                    @item.Description
                </td>
                <td>
                    @item.PostedBy
                </td>
                
              
                <td>
                    <a asp-action="Edit" class="btn btn-primary" asp-route-id="@item.CatagoryId" >Edit</a>
                    <a asp-action="Delete" class="btn btn-danger" asp-route-id="@item.CatagoryId" >Delete</a>
                </td>
            </tr>  
        }
        </tbody>
        
    </table>*@


@*----------------------------------------------*@

<table class="table  table-bordered">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Title)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ArticleURL)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.Description)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.PostedBy)
        </th>
       @* <th>
            @Html.DisplayNameFor(model => model.IsApproved)
        </th>*@
        <th>
            Action
        </th>
    </tr>

@foreach (var item in Model) {
    <tr>
        <td>
           @*<a href="@item.ArticleURL" target="_blank">@item.Title</a>*@
           @Html.DisplayFor(modelItem => item.Title)
        </td>
         <td>
            @Html.DisplayFor(modelItem => item.ArticleURL)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.Description)
        </td>
        <td>
            @Html.DisplayFor(modelItem => item.PostedBy)
        </td>
        @*<td>
            @Html.DisplayFor(modelItem => item.IsApproved)
        </td>*@
        
        @if(item.IsApproved==false){
        <td>
                    <a asp-action="Approve" class="btn btn-primary" asp-route-id="@item.ArticleId" >Approve/Reject</a>
                 @*   <a  class="btn btn-light" >Rejected</a>*@
                  @*  <a asp-action="Delete" class="btn btn-danger" asp-route-id="@item.ArticleId" >Delete</a>*@
                </td>
            }
            else
            {
                <td>

                  <a  class="btn btn-light"  >Approved</a>
                    <a asp-action="Reject"  class="btn btn-danger" asp-route-id="@item.ArticleId" >Delete</a>
                     
                    </td>
            }

    </tr>
}

</table>

@*<div>
    <a asp-action="Edit" asp-route-id="@Model?.ArticleId">Edit</a> |
    <a asp-action="Index">Back to List</a>
</div>*@
